# Release Notes - PHPEpub v0.1.1-alpha

## ğŸŒ Accessibility & International Support Release

**Release Date:** July 29, 2025  
**Status:** Alpha (Experimental)

This release focuses on **WCAG accessibility compliance** and **enhanced international language support**, making PHPEpub more inclusive and standards-compliant.

### âš ï¸ Alpha Version Warning

This is an **experimental version** with the following considerations:

- âŒ **DO NOT use in production**
- ğŸ”„ **API may change** without notice
- ğŸ§ª **For testing and feedback only**
- ğŸ“š **Documentation in development**

### ğŸ†• What's New in v0.1.1-alpha

#### ğŸŒ Enhanced Accessibility (WCAG Compliance)

- **âœ… Language Attributes**: Added `xml:lang` and `lang` attributes to all HTML documents
- **âœ… Package Language**: Enhanced package document with proper language metadata
- **âœ… Navigation Language**: Navigation documents now include language attributes
- **âœ… Chapter Language**: All individual chapters include proper language markup

#### ğŸ”§ Technical Improvements

- **âœ… HTML Character Escaping**: Fixed JavaScript arrow functions (`=>`) rendering in EPUB content
- **âœ… Accent Handling**: Improved filename generation for international characters
- **âœ… UTF-8 Support**: Enhanced handling of Spanish characters (Ã±, Ã¡, Ã©, Ã­, Ã³, Ãº)
- **âœ… BCP 47 Compliance**: Language codes now follow proper standards

#### ğŸ“š New Examples

- **âœ… Advanced Spanish Example**: Complete `libro_avanzado_es.php` with 5 chapters of web development content
- **âœ… Accent Testing**: New `test_spanish_accents.php` for international character validation

### ğŸ› ï¸ Bug Fixes

| Issue | Description | Status |
|-------|-------------|---------|
| **Arrow Functions** | JavaScript `=>` characters causing EPUB display errors | âœ… Fixed |
| **Spanish Accents** | Accent characters not handled properly in filenames | âœ… Fixed |
| **Language Metadata** | Missing language attributes in HTML documents | âœ… Fixed |
| **WCAG Compliance** | Package document missing language declarations | âœ… Fixed |

### ğŸ“‹ API Changes

#### Modified Methods

```php
// Chapter.php - Enhanced with language support
public function getHtmlContent(string $language = 'en'): string

// EpubGenerator.php - Updated method signatures
private function addNavigationDocument(ZipArchive $zip, Metadata $metadata, array $chapters): void
private function addChapters(ZipArchive $zip, Metadata $metadata, array $chapters): void
private function generateNavigationDocument(Metadata $metadata, array $chapters): string
```

#### New Features

```php
// Package document now includes xml:lang attribute
$package->setAttribute('xml:lang', $metadata->getLanguage());

// Navigation and chapters include language attributes
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="es" lang="es">
```

### ğŸ“Š Updated Examples

#### Advanced Spanish Example (`libro_avanzado_es.php`)

```php
$epub->setTitle('GuÃ­a Completa de Desarrollo Web Moderno')
     ->setAuthor('MarÃ­a Elena RodrÃ­guez')
     ->setLanguage('es')  // Proper Spanish language support
     ->setDescription('Una guÃ­a exhaustiva sobre las Ãºltimas tendencias...');
```

**Generated Content:**
- ğŸ“– **5 Complete Chapters** in Spanish
- ğŸ¨ **HTML Tables** with proper formatting
- ğŸ’» **Code Examples** with escaped characters
- ğŸ“± **Responsive Design** examples
- âš¡ **Modern JavaScript** (ES6+) with proper HTML entities

#### Character Testing Example (`test_spanish_accents.php`)

```php
$metadata = new Metadata(
    'Ã‘andÃº: La ProgramaciÃ³n en EspaÃ±ol',  // Title with Ã±
    'JosÃ© MarÃ­a Aznar y GonzÃ¡lez',         // Author with accents
    'es'                                   // Spanish language
);
```

### ğŸ§ª Testing Results

| Test Case | Input | Expected | Result |
|-----------|--------|----------|---------|
| Spanish Accents | `JosÃ© MarÃ­a` | Proper filename generation | âœ… Pass |
| Arrow Functions | `() => {}` | Escaped as `() =&gt; {}` | âœ… Pass |
| Language Metadata | `es` | `xml:lang="es"` in all docs | âœ… Pass |
| EPUB Generation | Complete book | Valid EPUB 3.0 file | âœ… Pass |

### ğŸ“ Generated Files

Both examples successfully generate valid EPUB files:
- `guia-desarrollo-web-moderno.epub` (378KB) - Complete Spanish guide
- `nandu-programacion-espanol.epub` (2.76KB) - Accent testing example

### ğŸ”® Next Steps (v0.1.2-alpha)

- [ ] **Enhanced Validation**: More robust HTML validation
- [ ] **Custom Fonts**: Support for embedded fonts
- [ ] **Table of Contents**: Enhanced navigation features
- [ ] **Multiple Languages**: Support for multilingual content
- [ ] **Performance**: Optimization for large books

### ğŸ¤ Contributions

This release includes valuable feedback from accessibility testing tools like **DAISY Validator**. 

To contribute:
1. Read `CONTRIBUTING.md`
2. Check accessibility compliance
3. Test with international content
4. Submit Pull Requests

### ğŸ“ Support

- **Issues**: [GitHub Issues](https://github.com/sebastiansantillan/phpepub/issues)
- **Accessibility**: Report WCAG compliance issues
- **Documentation**: [docs/README.md](../README.md)
- **Examples**: [examples/](../../examples/)

### ğŸ“„ License

MIT License - see [LICENSE](../../LICENSE) for details.

---

**Â¡Gracias por probar PHPEpub v0.1.1-alpha!** ğŸ‰

This release represents a significant step forward in accessibility and international support. Your feedback continues to be invaluable for improving this library.

*SebastiÃ¡n SantillÃ¡n*  
*July 29, 2025*
